{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","App.js","components/services/imagesApi.js","components/services/scrollToNewImages.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","event","preventDefault","trim","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","e","currentTarget","ImageGallery","children","ImageGalleryItem","images","onClick","map","id","webformatURL","largeImageURL","photoAlt","tags","ImageGalleryItemImage","src","alt","Button","onLoadMore","modalRoot","document","getElementById","Modal","imgSrc","onCloseModal","useEffect","overlay","querySelector","window","addEventListener","handleKeydown","handleClickOverlay","removeEventListener","target","hidden","code","createPortal","Status","App","searchQuery","setSearchQuery","page","setPage","setImages","currentImage","setCurrentImage","showModal","setShowModal","status","setStatus","searchParams","URLSearchParams","key","q","image_type","orientation","per_page","url","fetch","then","response","ok","json","data","hits","Promise","reject","Error","fetchImages","prevImages","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","console","message","color","height","width","visible","dataset","modal","length","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.885182aa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Ib98\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2ywdH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Ek4b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2aSYq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ButAD\",\"SearchForm\":\"Searchbar_SearchForm__1TGhn\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1ufL2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3FUce\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2g3T-\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1Fxre\"};","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleInputChange = (e) => setQuery(e.currentTarget.value);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (query.trim() === \"\") {\n      alert(\"Enter the query\");\n      return;\n    }\n\n    onSubmit(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleInputChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ children }) {\n  return <ul className={s.ImageGallery}>{children}</ul>;\n}\n\nImageGallery.propTypes = {\n  children: PropTypes.node,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ images, onClick }) {\n  return images.map(({ id, webformatURL, largeImageURL, tags: photoAlt }) => (\n    <li key={id} className={s.ImageGalleryItem}>\n      <img\n        className={s.ImageGalleryItemImage}\n        data-modal={largeImageURL}\n        onClick={onClick}\n        src={webformatURL}\n        alt={photoAlt}\n      />\n    </li>\n  ));\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.getElementById(\"root-modal\");\n\nexport default function Modal({ imgSrc, onCloseModal }) {\n  useEffect(() => {\n    const overlay = document.querySelector(\".Overlay\");\n\n    window.addEventListener(\"keydown\", handleKeydown);\n\n    overlay.addEventListener(\"click\", handleClickOverlay);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeydown);\n      overlay.removeEventListener(\"click\", handleClickOverlay);\n    };\n  });\n\n  const handleClickOverlay = (e) => {\n    if (e.target.className === \"Overlay\") {\n      onCloseModal((hidden) => !hidden);\n    }\n  };\n\n  const handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      onCloseModal((hidden) => !hidden);\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\">\n      <div className=\"Modal\">\n        <img src={imgSrc} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  imgSrc: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from \"react\";\n\nimport scrollToNewImages from \"./components/services/scrollToNewImages\";\nimport fetchImages from \"./components/services/imagesApi\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Loader from \"react-loader-spinner\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport \"./App.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [currentImage, setCurrentImage] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n\n    fetchImages(searchQuery, page)\n      .then((images) => {\n        setStatus(Status.PENDING);\n\n        if (page > 1) {\n          setImages((prevImages) => [...prevImages, ...images]);\n          setStatus(Status.RESOLVED);\n\n          scrollToNewImages();\n          return;\n        }\n\n        setImages([...images]);\n        setStatus(Status.RESOLVED);\n      })\n      .catch((error) => {\n        console.error(error.message);\n        setStatus(Status.REJECTED);\n      });\n  }, [searchQuery, page]);\n\n  const handleSearchSubmit = (searchQuery) => {\n    setSearchQuery(searchQuery);\n  };\n\n  const handleClickImage = (e) => {\n    setCurrentImage(e.target.dataset.modal);\n    setShowModal((hidden) => !hidden);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSearchSubmit} />\n      <Loader\n        type=\"Bars\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        visible={status === Status.PENDING}\n      />\n      {status === Status.RESOLVED && (\n        <ImageGallery>\n          <ImageGalleryItem images={images} onClick={handleClickImage} />\n        </ImageGallery>\n      )}\n      {images.length > 0 && (\n        <Button onLoadMore={() => setPage((page) => page + 1)} />\n      )}\n      {showModal && <Modal imgSrc={currentImage} onCloseModal={setShowModal} />}\n    </div>\n  );\n}\n\nexport default App;\n","const BASE_URL = \"https://pixabay.com/api/\";\n\nexport default function fetchImages(query, page) {\n  const searchParams = new URLSearchParams({\n    key: \"23521468-535c53472c6d56fb98e2bf6f2\",\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    page: page,\n    per_page: 15,\n  });\n\n  const url = `${BASE_URL}?${searchParams}`;\n\n  return fetch(url).then((response) => {\n    if (response.ok) {\n      return response.json().then((data) =>\n        data.hits.map(({ id, webformatURL, largeImageURL, tags }) => ({\n          id,\n          webformatURL,\n          largeImageURL,\n          tags,\n        }))\n      );\n    }\n\n    return Promise.reject(new Error(`No images with name ${query}`));\n  });\n}\n","export default function scrollToNewImages() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}