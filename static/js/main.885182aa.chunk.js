(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1Ib98",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2ywdH"}},11:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2Ek4b"}},13:function(e,t,a){e.exports={Button:"Button_Button__2aSYq"}},18:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__ButAD",SearchForm:"Searchbar_SearchForm__1TGhn",SearchFormButton:"Searchbar_SearchFormButton__1ufL2",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3FUce",SearchFormInput:"Searchbar_SearchFormInput__2g3T-","SearchForm-input":"Searchbar_SearchForm-input__1Fxre"}},40:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),o=a.n(c),i=(a(18),a(8)),s=a(3);var u=a(4),l=a.n(u),m=a(1);function b(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],o=n[1];return Object(m.jsx)("header",{className:l.a.Searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):alert("Enter the query")},className:l.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:l.a.SearchFormButton,children:Object(m.jsx)("span",{className:l.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:l.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){return o(e.currentTarget.value)}})]})})}var h=a(11),j=a.n(h);function d(e){var t=e.children;return Object(m.jsx)("ul",{className:j.a.ImageGallery,children:t})}var f=a(10),g=a.n(f);function O(e){var t=e.images,a=e.onClick;return t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,c=e.tags;return Object(m.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(m.jsx)("img",{className:g.a.ImageGalleryItemImage,"data-modal":n,onClick:a,src:r,alt:c})},t)}))}var S=a(12),p=a.n(S),v=a(13),I=a.n(v);function _(e){var t=e.onLoadMore;return Object(m.jsx)("button",{className:I.a.Button,type:"button",onClick:t,children:"Load more"})}var y=document.getElementById("root-modal");function x(e){var t=e.imgSrc,a=e.onCloseModal;Object(r.useEffect)((function(){var e=document.querySelector(".Overlay");return window.addEventListener("keydown",o),e.addEventListener("click",n),function(){window.removeEventListener("keydown",o),e.removeEventListener("click",n)}}));var n=function(e){"Overlay"===e.target.className&&a((function(e){return!e}))},o=function(e){"Escape"===e.code&&a((function(e){return!e}))};return Object(c.createPortal)(Object(m.jsx)("div",{className:"Overlay",children:Object(m.jsx)("div",{className:"Modal",children:Object(m.jsx)("img",{src:t,alt:""})})}),y)}a(40),a(41);var w="pending",F="resolved",L="rejected";var k=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(1),o=Object(s.a)(c,2),u=o[0],l=o[1],h=Object(r.useState)([]),j=Object(s.a)(h,2),f=j[0],g=j[1],S=Object(r.useState)(""),v=Object(s.a)(S,2),I=v[0],y=v[1],k=Object(r.useState)(!1),B=Object(s.a)(k,2),N=B[0],E=B[1],G=Object(r.useState)("idle"),C=Object(s.a)(G,2),U=C[0],R=C[1];return Object(r.useEffect)((function(){a&&function(e,t){var a=new URLSearchParams({key:"23521468-535c53472c6d56fb98e2bf6f2",q:e,image_type:"photo",orientation:"horizontal",page:t,per_page:15}),r="".concat("https://pixabay.com/api/","?").concat(a);return fetch(r).then((function(t){return t.ok?t.json().then((function(e){return e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}))})):Promise.reject(new Error("No images with name ".concat(e)))}))}(a,u).then((function(e){if(R(w),u>1)return g((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),R(F),void window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});g(Object(i.a)(e)),R(F)})).catch((function(e){console.error(e.message),R(L)}))}),[a,u]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b,{onSubmit:function(e){n(e)}}),Object(m.jsx)(p.a,{type:"Bars",color:"#00BFFF",height:80,width:80,visible:U===w}),U===F&&Object(m.jsx)(d,{children:Object(m.jsx)(O,{images:f,onClick:function(e){y(e.target.dataset.modal),E((function(e){return!e}))}})}),f.length>0&&Object(m.jsx)(_,{onLoadMore:function(){return l((function(e){return e+1}))}}),N&&Object(m.jsx)(x,{imgSrc:I,onCloseModal:E})]})};o.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.885182aa.chunk.js.map